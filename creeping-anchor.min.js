// Ð¡reated by vereschak@gmail.com
"use strict";!function(t){t.fn.creepingAnchor=function(e){var i=t.extend({speed:500,activeLinks:!0,position:"top",offsetLeft:0,anchors:!1,onViewChange:null},e),n=this;if(!n.length)return!1;n.currentSection=null;var o=i.speed/1e3,s=this.find("li"),r=document.createElement("div");r.style.transition=o+"s",t(r).addClass("air_line"),n[0].style.position="relative",n.append(r),r.style.position="absolute";var l=function(e){r.style.width=t(e).innerWidth()-2*i.offsetLeft+"px",r.style.left=t(e).position().left+i.offsetLeft+"px"};n.init=function(e){return function(n){l(e),"top"==i.position?r.style.top=t(e).position().top+"px":r.style.top=t(e).position().top+t(e).innerHeight()+"px",r.style.transform="scale(1)",r.style.width=t(e).innerWidth()-2*i.offsetLeft+"px",r.style.left=t(e).position().left+i.offsetLeft+"px"}},n.disable=function(){n.find("li.active-link").length?n.init(n.find("li.active-link")[0])():(r.style.transform="scale(0)",n.css("position","relative"))},n.initAnchors=function(){var e=this;!0===i.anchors&&s.find("a").click(function(i){var n=t(this).attr("href");"#"!==n&&t(n).length&&i.preventDefault(),e.scrollTo(n,t(this).data("offset"))})},n.scrollTo=function(e,i){if("#"!=e&&t(e).length){var n=t(e).offset().top+(i||0);t("body").animate({scrollTop:n},400)}};var a=function(e){var i={};i.top=t(window).scrollTop(),i.bottom=i.top+t(window).height();var n={};return n.top=e.offset().top,n.bottom=n.top+e.outerHeight()/2,n.top<=i.bottom&&n.bottom>=i.top},f=function(){var e=[];if(s.each(function(i,n,o){var s=t(n).find("a").attr("href");"#"!=s&&t(s).length&&a(t(s))&&e.push(t(this))}),e.length){var o=t(e[0].find("a").attr("href"));if(n.currentSection&&o.attr("id")==n.currentSection.attr("id"))return;e[0].addClass("active-link").siblings().removeClass("active-link"),n.currentSection=o,i.onViewChange&&"function"==typeof i.onViewChange&&i.onViewChange.call(n,o),n.init(e[0])()}else n.currentSection&&(n.disable(),s.removeClass("active-link"),n.currentSection=null)};i.activeLinks&&(window.addEventListener("scroll",function(){f()}),f()),n.initAnchors(),n.disable(),r.style.width=t(s).innerWidth()-2*i.offsetLeft+"px",r.style.left=t(s).position().left+"px",s.each(function(t,e){this.addEventListener("mouseenter",n.init(e))}),n[0].addEventListener("mouseleave",n.disable);var c;window.addEventListener("resize",function(){clearTimeout(c),c=setTimeout(n.disable,20)})}}(jQuery);
