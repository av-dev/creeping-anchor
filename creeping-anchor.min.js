// Ð¡reated by vereschak@gmail.com
"use strict";!function(t){t.fn.creepingAnchor=function(e){var i=t.extend({speed:500,activeLinks:!0,position:"top",offsetLeft:0,anchors:!1,onViewChange:null},e),n=this;if(!n.length)return!1;var o=i.speed/1e3,s=this.find("li"),a=document.createElement("div");a.style.transition=o+"s",t(a).addClass("air_line"),n[0].style.position="relative",n.append(a),a.style.position="absolute";var l=function(e){a.style.width=t(e).innerWidth()-2*i.offsetLeft+"px",a.style.left=t(e).position().left+i.offsetLeft+"px"};n.init=function(e){return function(n){l(e),"top"==i.position?a.style.top=t(e).position().top+"px":a.style.top=t(e).position().top+t(e).innerHeight()+"px",a.style.transform="scale(1)",a.style.width=t(e).innerWidth()-2*i.offsetLeft+"px",a.style.left=t(e).position().left+i.offsetLeft+"px"}},n.disable=function(){n.find("li.active-link").length?n.init(n.find("li.active-link")[0])():(a.style.transform="scale(0)",n.css("position","relative"))},n.initAnchors=function(){var e=this;!0===i.anchors&&s.find("a").click(function(i){var n=t(this).attr("href");"#"!==n&&t(n).length&&i.preventDefault(),e.scrollTo(n,t(this).data("offset"))})},n.scrollTo=function(e,i){if("#"!=e&&t(e).length){var n=t(e).offset().top+(i||0);t("body").animate({scrollTop:n},400)}};var f=function(e){var i={};i.top=t(window).scrollTop(),i.bottom=i.top+t(window).height();var n={};return n.top=e.offset().top,n.bottom=n.top+e.outerHeight()/2,n.top<=i.bottom&&n.bottom>=i.top},r=function(){var e;clearTimeout(e),e=setTimeout(function(){var e=[];if(s.each(function(i,n,o){var s=t(n).find("a").attr("href");"#"!=s&&t(s).length&&f(t(s))&&e.push(t(this))}),e.length){var i=t(e[0].find("a").attr("href"));e[0].addClass("active-link").siblings().removeClass("active-link"),n.options.onViewChange&&"function"==typeof n.options.onViewChange&&n.options.onViewChange.call(n,i),n.init(e[0])()}else n.disable(),s.removeClass("active-link")},0)};i.activeLinks&&(window.addEventListener("scroll",function(){r()}),r()),n.initAnchors(),n.disable(),a.style.width=t(s).innerWidth()-2*i.offsetLeft+"px",a.style.left=t(s).position().left+"px",s.each(function(t,e){this.addEventListener("mouseenter",n.init(e))}),n[0].addEventListener("mouseleave",n.disable);var c;window.addEventListener("resize",function(){clearTimeout(c),c=setTimeout(n.disable,20)})}}(jQuery);
